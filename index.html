<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meraki - Dil ki Baat, Bina Filter</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Embedded Styles (Restored from Version 1) -->
    <style type="text/css">
        /* Base styles */
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Active nav link style */
        .active-nav {
            color: #5D9C59; /* green-500 */
            font-weight: 600;
        }
        .dark .active-nav {
            color: #FDFBF6; /* cream-100 */
        }
        
        /* Floating Leaves */
        .leaf {
            position: absolute;
            top: -100px;
            color: #5D9C59;
            opacity: 0.6;
            font-size: 1.5rem; /* 24px */
            z-index: 0;
            pointer-events: none;
        }
        
        @keyframes leaf-fall {
            0% { transform: translateY(-100%) translateX(0px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) translateX(100px) rotate(720deg); opacity: 0; }
        }
        
        .leaf-1 { animation: leaf-fall 15s linear infinite; left: 10%; }
        .leaf-2 { animation: leaf-fall 20s linear infinite 5s; left: 30%; }
        .leaf-3 { animation: leaf-fall 18s linear infinite 2s; left: 50%; }
        .leaf-4 { animation: leaf-fall 22s linear infinite 8s; left: 70%; }
        .leaf-5 { animation: leaf-fall 17s linear infinite 11s; left: 90%; }

        /* Breathing Animation */
        .breathing-circle {
            animation-name: breathe;
            animation-duration: 6s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-play-state: paused;
        }
        
        @keyframes breathe {
            0%, 100% { transform: scale(0.9); opacity: 0.7; }
            25% { transform: scale(1.1); opacity: 1; } /* Inhale */
            50% { transform: scale(1.1); opacity: 1; } /* Hold */
            75% { transform: scale(0.9); opacity: 0.7; } /* Exhale */
        }

        /* Voice Call Pulse Animation */
        @keyframes pulse-wave {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.5); opacity: 0; }
        }
        .pulse-ring {
            animation: pulse-wave 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* Toast Notifications */
        #toast-container {
            position: fixed;
            bottom: 1.25rem;
            right: 1.25rem;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .toast {
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            color: white;
            font-weight: 500;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }
        .toast-success { background-color: #5D9C59; }
        .toast-error { background-color: #DC2626; }
        .toast-info { background-color: #3B82F6; }
        .toast.show {
            opacity: 1;
            transform: translateX(0);
        }
    </style>
</head>

<body class="bg-cream-100 text-green-900 font-inter dark:bg-green-900 dark:text-cream-100 transition-colors duration-300 overflow-x-hidden">

    <!-- Floating Leaves -->
    <div id="leaf-container" class="fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0">
        <span class="leaf leaf-1"><i class="fa-solid fa-leaf"></i></span>
        <span class="leaf leaf-2"><i class="fa-solid fa-leaf"></i></span>
        <span class="leaf leaf-3"><i class="fa-solid fa-leaf"></i></span>
        <span class="leaf leaf-4"><i class="fa-solid fa-leaf"></i></span>
        <span class="leaf leaf-5"><i class="fa-solid fa-leaf"></i></span>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-container"></div>

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 bg-cream-100/80 dark:bg-green-900/80 backdrop-blur-md shadow-sm z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <a href="#home" class="flex-shrink-0 flex items-center gap-2" aria-label="Meraki Homepage">
                    <!-- SVG Logo matching description -->
                    <svg width="150" height="40" viewBox="0 0 150 40" class="h-8 w-auto">
                        <defs>
                            <path id="clover-leaf" d="M10 0 C0 0, 0 10, 10 10 C20 10, 20 0, 10 0 Z" />
                        </defs>
                        <g transform="translate(20 20)">
                            <circle cx="0" cy="0" r="18" fill="#FDFBF6" class="dark:fill-transparent" stroke="#5D9C59" stroke-width="1"/>
                            <g fill="#5D9C59" class="dark:fill-cream-100">
                                <use href="#clover-leaf" transform="rotate(45) translate(-7, -7)"/>
                                <use href="#clover-leaf" transform="rotate(135) translate(-7, -7)"/>
                                <use href="#clover-leaf" transform="rotate(225) translate(-7, -7)"/>
                                <use href="#clover-leaf" transform="rotate(315) translate(-7, -7)"/>
                            </g>
                        </g>
                        <text x="50" y="27" font-family="Poppins, sans-serif" font-weight="600" font-size="18" fill="currentColor" class="text-green-900 dark:text-cream-100">
                            MERAKI
                        </text>
                    </svg>
                </a>
                
                <!-- Desktop Nav -->
                <div class="hidden md:flex md:items-center md:space-x-6">
                    <a href="#home" data-nav-link="home" class="font-medium text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white px-2 py-1 transition-colors">Home</a>
                    <a href="#problem" data-nav-link="problem" class="font-medium text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white px-2 py-1 transition-colors">Problem</a>
                    <a href="#solution" data-nav-link="solution" class="font-medium text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white px-2 py-1 transition-colors">Solution</a>
                    <a href="#features" data-nav-link="features" class="font-medium text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white px-2 py-1 transition-colors">Features</a>
                    <a href="#demo" data-nav-link="demo" class="font-medium text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white px-2 py-1 transition-colors">Demo</a>
                    <a href="#forum" data-nav-link="forum" class="font-medium text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white px-2 py-1 transition-colors">Forum</a>
                    <a href="#pricing" data-nav-link="pricing" class="font-medium text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white px-2 py-1 transition-colors">Pricing</a>
                    
                    <!-- Dark Mode Toggle -->
                    <button id="theme-toggle" class="text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white" aria-label="Toggle dark mode">
                        <i id="theme-toggle-dark-icon" class="fa-solid fa-moon text-lg hidden"></i>
                        <i id="theme-toggle-light-icon" class="fa-solid fa-sun text-lg hidden"></i>
                    </button>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="theme-toggle-mobile" class="mr-4 text-green-700 dark:text-cream-200 hover:text-green-500 dark:hover:text-white" aria-label="Toggle dark mode">
                        <i id="theme-toggle-dark-icon-mobile" class="fa-solid fa-moon text-lg hidden"></i>
                        <i id="theme-toggle-light-icon-mobile" class="fa-solid fa-sun text-lg hidden"></i>
                    </button>
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-700 focus:outline-none" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <i id="menu-open-icon" class="fa-solid fa-bars text-xl block"></i>
                        <i id="menu-close-icon" class="fa-solid fa-xmark text-xl hidden"></i>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" data-nav-link="home" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-800">Home</a>
                <a href="#problem" data-nav-link="problem" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-800">Problem</a>
                <a href="#solution" data-nav-link="solution" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-800">Solution</a>
                <a href="#features" data-nav-link="features" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-800">Features</a>
                <a href="#demo" data-nav-link="demo" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-800">Demo</a>
                <a href="#forum" data-nav-link="forum" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-800">Forum</a>
                <a href="#pricing" data-nav-link="pricing" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-green-700 dark:text-cream-200 hover:bg-green-100 dark:hover:bg-green-800">Pricing</a>
            </div>
        </div>
    </header>

    <main class="relative z-10">
        <!-- Hero Section -->
        <section id="home" class="pt-24 pb-16 md:pt-32 md:pb-24 bg-green-100 dark:bg-green-800/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="text-5xl md:text-7xl font-poppins font-bold text-green-900 dark:text-white">
                    Meraki
                </h1>
                <p class="mt-4 text-2xl md:text-4xl font-poppins font-medium text-green-700 dark:text-green-100">
                    Dil ki Baat, Bina Filter
                </p>
                <p class="mt-6 max-w-2xl mx-auto text-lg md:text-xl text-green-800 dark:text-cream-200">
                    A safe, anonymous space where teens can share, connect, and support each other without fear of judgment.
                </p>
                <div class="mt-10 flex flex-col sm:flex-row justify-center gap-4">
                    <a href="#forum" class="px-8 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition-colors duration-300">
                        Join the Forum
                    </a>
                    <a href="#demo" class="px-8 py-3 bg-cream-200 text-green-700 font-semibold rounded-lg shadow-md hover:bg-cream-100 dark:bg-green-700 dark:text-cream-100 dark:hover:bg-green-600 transition-colors duration-300">
                        Try Live Demo
                    </a>
                </div>
            </div>
        </section>

        <!-- Problem Section -->
        <section id="problem" class="py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl text-center">
                <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white mb-6">
                    The Silent Struggle
                </h2>
                <p class="text-lg text-green-800 dark:text-cream-200 leading-relaxed">
                    Nowadays, out of every five teenagers, at least two struggle with emotional challenges such as anxiety, stress, and feelings of hopelessness. These struggles often arise from multiple factors‚Äîacademic pressure, constant comparison, family conflicts, social media toxicity, betrayal by friends, and the fear of being judged. With no safe outlet to express themselves, many teens withdraw from others, becoming isolated, introverted, and emotionally bottled up. This silent suffering highlights the urgent need for safe, stigma-free spaces for connection and support.
                </p>
            </div>
        </section>

        <!-- Solution Section -->
        <section id="solution" class="py-16 md:py-24 bg-green-100 dark:bg-green-800/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl text-center">
                <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white mb-6">
                    Solution: MERAKI
                </h2>
                <p class="text-lg text-green-800 dark:text-cream-200 leading-relaxed">
                    Meraki aims to be an anonymous chat and call app for teens and young adults who often feel unheard in today‚Äôs fast-paced, chaotic world. The platform provides a safe space to open up, connect with people their age globally, and share emotions without fear of judgment. With soothing AI voices, anonymous profiles, trust-based ratings, and the option to help or be helped, Meraki builds a supportive and stigma-free community for authentic human connection.
                </p>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-12">
                    Features
                </h2>
                
                <!-- Feature Tabs -->
                <div class="flex justify-center gap-2 md:gap-4 mb-8">
                    <button class="feature-tab-btn active-tab px-4 py-2 md:px-6 md:py-3 font-poppins font-semibold rounded-lg transition-all" data-tab="free">
                        Free
                    </button>
                    <button class="feature-tab-btn px-4 py-2 md:px-6 md:py-3 font-poppins font-semibold rounded-lg transition-all relative" data-tab="pro">
                        Pro
                        <!-- "Most Popular" tag removed as requested -->
                    </button>
                    <button class="feature-tab-btn px-4 py-2 md:px-6 md:py-3 font-poppins font-semibold rounded-lg transition-all" data-tab="proplus">
                        Pro+
                    </button>
                </div>
                
                <!-- Feature Panels -->
                <div class="max-w-4xl mx-auto">
                    <!-- Free Panel -->
                    <div id="tab-free" class="feature-tab-panel grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <ul class="space-y-4 list-disc list-inside text-green-800 dark:text-cream-200">
                                <li><strong>Basic Chat & Call Access</strong> ‚Äì Users can anonymously connect with others through text or voice calls.</li>
                                <li><strong>Daily Mood Check-In</strong> ‚Äì A simple 1‚Äì5 scale or emoji-based check-in that helps users reflect on how they feel.</li>
                                <li><strong>AI Voice Option (Basic)</strong> ‚Äì Free users can choose between 1‚Äì2 soothing AI voices (more in premium).</li>
                                <li><strong>Trust Score Display</strong> ‚Äì See other users‚Äô trust levels (built through ratings).</li>
                                <li><strong>Basic Filters</strong> ‚Äì Can choose one preference (either age group or gender) before connecting.</li>
                            </ul>
                        </div>
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <ul class="space-y-4 list-disc list-inside text-green-800 dark:text-cream-200">
                                <li><strong>Profile Badge (Listener or Seeker)</strong> ‚Äì So users know if someone mainly listens or seeks help.</li>
                                <li><strong>Session Feedback</strong> ‚Äì Leave ratings/reports after each chat/call.</li>
                                <li><strong>Anonymous Journaling</strong> ‚Äì A private space to write thoughts (not visible to others, but helps engagement).</li>
                                <li><strong>Daily Quotes or Gentle Reminders</strong> ‚Äì Simple motivational/wellness quotes for positivity.</li>
                                <li><strong>Limited Connections per Day</strong> ‚Äì e.g., 3‚Äì5 chats/calls daily for free users.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Pro Panel -->
                    <div id="tab-pro" class="feature-tab-panel hidden grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <ul class="space-y-4 list-disc list-inside text-green-800 dark:text-cream-200">
                                <li><strong>Unlimited Chats & Calls</strong> ‚Äì No daily cap, unlike the free version.</li>
                                <li><strong>Advanced Filters</strong> ‚Äì Choose multiple preferences (age group + gender + language + trust score).</li>
                                <li><strong>Exclusive AI Voices</strong> ‚Äì Wider selection of soothing, premium-quality AI voices.</li>
                                <li><strong>Global Priority Matching</strong> ‚Äì Faster connections with users worldwide.</li>
                            </ul>
                        </div>
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <ul class="space-y-4 list-disc list-inside text-green-800 dark:text-cream-200">
                                <li><strong>Wellness Tools</strong> ‚Äì Guided breathing, mood trackers, reflection prompts.</li>
                                <li><strong>Extended Journaling</strong> ‚Äì Secure, private journaling with insights over time.</li>
                                <li><strong>Progress Dashboard</strong> ‚Äì Track mood trends, number of conversations, and personal growth.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Pro+ Panel -->
                    <div id="tab-proplus" class="feature-tab-panel hidden grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <ul class="space-y-4 list-disc list-inside text-green-800 dark:text-cream-200">
                                <li><strong>Unlimited Help Mode</strong> ‚Äì Listeners can take unlimited sessions daily (free version capped).</li>
                                <li><strong>Community Circles</strong> ‚Äì Anonymous group discussions around shared struggles (academic stress, peer betrayal, social media toxicity).</li>
                            </ul>
                        </div>
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <ul class="space-y-4 list-disc list-inside text-green-800 dark:text-cream-200">
                                <li><strong>Customizable Profile Themes</strong> ‚Äì Change background, colors, or badges (still anonymous).</li>
                                <li><strong>Ad-Free Experience</strong> ‚Äì Clean, distraction-free interface.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Live Demo Section -->
        <section id="demo" class="py-16 md:py-24 bg-green-100 dark:bg-green-800/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-12">
                    Try Our Tools
                </h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    
                    <!-- Demo: Anonymous Chat -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg overflow-hidden">
                        <div class="p-5 border-b border-cream-200 dark:border-green-700">
                            <h3 class="text-xl font-poppins font-semibold">Anonymous Chat Demo</h3>
                            <p class="text-sm text-green-700 dark:text-cream-200">Chat with our supportive AI bot.</p>
                        </div>
                        <div class="p-5">
                            <div id="chat-box" class="h-64 overflow-y-auto mb-4 p-4 bg-cream-200/50 dark:bg-green-900/50 rounded-lg space-y-4 scroll-smooth">
                                <!-- Chat messages will appear here -->
                                <div class="flex justify-start">
                                    <div class="bg-white dark:bg-green-700 p-3 rounded-lg rounded-bl-none shadow max-w-xs">
                                        <p class="text-sm">Welcome! Feel free to share what's on your mind. I'm here to listen.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <input type="text" id="chat-input" class="flex-1 px-4 py-2 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="Type your message...">
                                <button id="chat-send-btn" class="px-5 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors">
                                    <i class="fa-solid fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Demo: AI Voice Call -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg overflow-hidden">
                        <div class="p-5 border-b border-cream-200 dark:border-green-700">
                            <h3 class="text-xl font-poppins font-semibold">AI Voice Call Demo</h3>
                            <p class="text-sm text-green-700 dark:text-cream-200">Hear a soothing, supportive voice.</p>
                        </div>
                        <div class="p-5 flex flex-col items-center justify-center min-h-[356px]">
                            <!-- Call Status -->
                            <div id="voice-call-status" class="relative w-40 h-40 flex items-center justify-center mb-6">
                                <div id="voice-call-visual" class="hidden">
                                    <div class="absolute inset-0 bg-green-500/50 rounded-full pulse-ring" style="animation-delay: -1s;"></div>
                                    <div class="absolute inset-0 bg-green-500/50 rounded-full pulse-ring"></div>
                                    <div class="relative w-24 h-24 bg-green-500 rounded-full flex items-center justify-center shadow-lg">
                                        <i class="fa-solid fa-microphone text-4xl text-white"></i>
                                    </div>
                                </div>
                                <i id="voice-call-idle-icon" class="fa-solid fa-phone-volume text-8xl text-green-300 dark:text-green-600"></i>
                            </div>
                            <p id="voice-call-text" class="text-lg font-medium text-green-700 dark:text-cream-200 h-6 mb-4">Ready to start</p>
                            
                            <!-- Controls -->
                            <div class="flex gap-2 w-full">
                                <select id="voice-select" class="flex-1 px-4 py-3 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500">
                                    <option value="Samantha">Samantha (Default)</option>
                                    <option value="Daniel">Daniel</option>
                                    <option value="Karen">Karen</option>
                                </select>
                                <button id="voice-call-btn" class="px-5 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors">
                                    Start Call
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Demo: Mood Check-In -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg overflow-hidden">
                        <div class="p-5 border-b border-cream-200 dark:border-green-700">
                            <h3 class="text-xl font-poppins font-semibold">Mood Check-In</h3>
                            <p class="text-sm text-green-700 dark:text-cream-200">How are you feeling today?</p>
                        </div>
                        <div class="p-5">
                            <div class="flex justify-around mb-6">
                                <button class="mood-btn text-4xl hover:scale-125 transition-transform" data-mood="üòû" aria-label="Bad mood">üòû</button>
                                <button class="mood-btn text-4xl hover:scale-125 transition-transform" data-mood="üòê" aria-label="Okay mood">üòê</button>
                                <button class="mood-btn text-4xl hover:scale-125 transition-transform" data-mood="üôÇ" aria-label="Good mood">üôÇ</button>
                                <button class="mood-btn text-4xl hover:scale-125 transition-transform" data-mood="üòä" aria-label="Great mood">üòä</button>
                                <button class="mood-btn text-4xl hover:scale-125 transition-transform" data-mood="ü•≥" aria-label="Awesome mood">ü•≥</button>
                            </div>
                            <h4 class="font-semibold mb-2 text-green-800 dark:text-cream-100">Your Last 7 Days:</h4>
                            <div id="mood-trend-box" class="flex justify-center items-center h-20 bg-cream-200/50 dark:bg-green-900/50 rounded-lg p-4 text-3xl tracking-wider">
                                <!-- Mood trend emojis will appear here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Demo: Guided Breathing -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg overflow-hidden">
                        <div class="p-5 border-b border-cream-200 dark:border-green-700">
                            <h3 class="text-xl font-poppins font-semibold">Guided Breathing</h3>
                            <p class="text-sm text-green-700 dark:text-cream-200">Take a moment to reset.</p>
                        </div>
                        <div class="p-5 flex flex-col items-center justify-center min-h-[304px]">
                            <div id="breathing-animator" class="w-48 h-48 flex items-center justify-center mb-6 hidden">
                                <div class="breathing-circle w-full h-full bg-green-500/80 rounded-full"></div>
                                <span id="breathing-text" class="absolute text-xl font-semibold text-white"></span>
                            </div>
                            <button id="breathing-start-btn" class="px-8 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition-colors duration-300">
                                Start 24s Session
                            </button>
                        </div>
                    </div>

                    <!-- Demo: Private Journal -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg overflow-hidden lg:col-span-2">
                        <div class="p-5 border-b border-cream-200 dark:border-green-700">
                            <h3 class="text-xl font-poppins font-semibold">Private Journal</h3>
                            <p class="text-sm text-green-700 dark:text-cream-200">Write down your thoughts. Stored only in your browser.</p>
                        </div>
                        <div class="p-5">
                            <textarea id="journal-input" class="w-full h-32 p-3 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="What's on your mind..."></textarea>
                            <button id="journal-save-btn" class="mt-3 px-6 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors">
                                Save Entry
                            </button>
                            
                            <h4 class="font-semibold mt-6 mb-2 text-green-800 dark:text-cream-100">Last 3 Entries:</h4>
                            <div id="journal-entries-box" class="space-y-3">
                                <!-- Journal entries will appear here -->
                                <p class="text-green-600 dark:text-cream-200/70">No entries yet.</p>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </section>

        <!-- Anonymous Forum Section -->
        <section id="forum" class="py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl">
                <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-4">
                    Anonymous Community Forum
                </h2>
                <p class="text-center text-lg text-green-700 dark:text-cream-200 mb-8">Share what's on your mind. You are not alone.</p>
                
                <!-- Forum Controls -->
                <div class="mb-4 p-4 bg-cream-200/50 dark:bg-green-800/50 rounded-lg shadow-sm">
                    <div class="flex flex-col sm:flex-row gap-2">
                        <input type="text" id="forum-input" class="flex-1 px-4 py-3 border border-green-200 dark:border-green-700 rounded-lg bg-white dark:bg-green-800 focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="Share your thoughts anonymously...">
                        <button id="forum-post-btn" class="px-6 py-3 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors">
                            Post
                        </button>
                    </div>
                    <div class="flex justify-between items-center mt-3 text-sm text-green-700 dark:text-cream-200">
                        <div class="flex items-center gap-2">
                            <span class="relative flex h-3 w-3">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                                <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                            </span>
                            <span id="sync-status">Multi-Device Sync: ON</span>
                        </div>
                        <button id="forum-refresh-btn" class="flex items-center gap-1 hover:text-green-500 dark:hover:text-white">
                            <i class="fa-solid fa-sync"></i>
                            <span id="sync-time">Synced just now</span>
                        </button>
                    </div>
                </div>
                
                <!-- Forum Posts Container -->
                <div id="forum-posts-container" class="space-y-4">
                    <!-- Posts will be dynamically inserted here -->
                    <div class="text-center p-10 text-green-600 dark:text-cream-200/70">
                        <p>No posts yet. Be the first to share!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="py-16 md:py-24 bg-green-100 dark:bg-green-800/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-12">
                    Pricing
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                    <!-- Free Plan -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg p-8 flex flex-col border border-green-200 dark:border-green-700">
                        <h3 class="text-2xl font-poppins font-bold mb-2">Free</h3>
                        <p class="text-4xl font-poppins font-bold mb-4">‚Çπ0<span class="text-lg font-medium"></span></p>
                        <p class="text-green-700 dark:text-cream-200 mb-6 h-12">Basic access to get started.</p>
                        <ul class="space-y-3 text-green-800 dark:text-cream-200 mb-8 flex-grow">
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>Basic Chat & Call Access</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>Daily Mood Check-In</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>1-2 AI Voices</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>Limited Connections</li>
                        </ul>
                        <a href="#" class="w-full text-center px-6 py-3 bg-cream-200 text-green-700 font-semibold rounded-lg hover:bg-cream-100 dark:bg-green-700 dark:text-cream-100 dark:hover:bg-green-600 transition-colors duration-300">
                            Get Started
                        </a>
                    </div>
                    
                    <!-- Pro Plan (No Popular Tag) -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg p-8 flex flex-col border-2 border-green-200 dark:border-green-700 relative overflow-hidden">
                        <h3 class="text-2xl font-poppins font-bold mb-2">Pro</h3>
                        <p class="text-4xl font-poppins font-bold mb-4">‚Çπ99<span class="text-lg font-medium">/mo</span></p>
                        <p class="text-green-700 dark:text-cream-200 mb-6 h-12">Unlock advanced tools and unlimited access.</p>
                        <ul class="space-y-3 text-green-800 dark:text-cream-200 mb-8 flex-grow">
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i><strong>Unlimited</strong> Chats & Calls</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i><strong>Advanced Filters</strong></li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i><strong>Exclusive</strong> AI Voices</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>Full Wellness Toolkit</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>Progress Dashboard</li>
                        </ul>
                        <a href="#" class="w-full text-center px-6 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 transition-colors duration-300">
                            Go Pro
                        </a>
                    </div>
                    
                    <!-- Pro+ Plan -->
                    <div class="bg-cream-100 dark:bg-green-800 rounded-lg shadow-lg p-8 flex flex-col border border-green-200 dark:border-green-700">
                        <h3 class="text-2xl font-poppins font-bold mb-2">Pro+</h3>
                        <p class="text-4xl font-poppins font-bold mb-4">‚Çπ199<span class="text-lg font-medium">/mo</span></p>
                        <p class="text-green-700 dark:text-cream-200 mb-6 h-12">For community helpers and power users.</p>
                        <ul class="space-y-3 text-green-800 dark:text-cream-200 mb-8 flex-grow">
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>All Pro Features</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i><strong>Community Circles</strong></li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>Unlimited Help Mode</li>
                            <li class="flex items-center gap-3"><i class="fa-solid fa-check text-green-500"></i>Ad-Free Experience</li>
                        </ul>
                        <a href="#" class="w-full text-center px-6 py-3 bg-cream-200 text-green-700 font-semibold rounded-lg hover:bg-cream-100 dark:bg-green-700 dark:text-cream-100 dark:hover:bg-green-600 transition-colors duration-300">
                            Go Pro+
                        </a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Additional Info Sections -->
        <section id="more-info" class="py-16 md:py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 space-y-16">
                
                <!-- Competitor Landscape -->
                <div>
                    <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-12">
                        Competitor Landscape
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
                        <!-- Competitor Card -->
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <h4 class="font-poppins font-semibold text-lg mb-2">1. Wysa</h4>
                            <p class="text-sm text-green-800 dark:text-cream-200">AI mental health chatbot (CBT-based).<br>+ Validated, 10M+ downloads, WHO recognized | ‚Äì Feels impersonal, lacks human touch</p>
                        </div>
                        <!-- Competitor Card -->
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <h4 class="font-poppins font-semibold text-lg mb-2">2. YourDOST</h4>
                            <p class="text-sm text-green-800 dark:text-cream-200">Online counselling (chat/voice/video).<br>+ Large professional network, trusted by youth | ‚Äì Expensive, stigma around therapy</p>
                        </div>
                        <!-- Competitor Card -->
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <h4 class="font-poppins font-semibold text-lg mb-2">3. MindPeers</h4>
                            <p class="text-sm text-green-800 dark:text-cream-200">Wellness + therapy + corporate services<br>+ Gamified, strong B2B ties | ‚Äì More corporate-focused, less for teens, low anonymity</p>
                        </div>
                        <!-- Competitor Card -->
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <h4 class="font-poppins font-semibold text-lg mb-2">4. Now&Me</h4>
                            <p class="text-sm text-green-800 dark:text-cream-200">Anonymous peer-sharing platform.<br>+ Teen-friendly, community support | ‚Äì Risk of negativity, not real therapy, limited moderation</p>
                        </div>
                        <!-- Competitor Card -->
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-6 rounded-lg shadow-sm">
                            <h4 class="font-poppins font-semibold text-lg mb-2">5. 7 Cups (Global)</h4>
                            <p class="text-sm text-green-800 dark:text-cream-200">Free anonymous peer support + therapists.<br>+ Global reach, peer-to-peer support | ‚Äì Western-centric, weaker cultural fit in India</p>
                        </div>
                    </div>
                </div>

                <!-- Differentiators -->
                <div>
                    <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-12">
                        Key Differentiators
                    </h2>
                    <div class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-green-100 dark:bg-green-800/50 p-6 rounded-lg shadow-sm flex items-start gap-4">
                            <i class="fa-solid fa-user-secret text-2xl text-green-500 mt-1"></i>
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-1">Anonymous Human Connection</h4>
                                <p class="text-green-800 dark:text-cream-200">Teens can chat or call strangers safely.</p>
                            </div>
                        </div>
                        <div class="bg-green-100 dark:bg-green-800/50 p-6 rounded-lg shadow-sm flex items-start gap-4">
                            <i class="fa-solid fa-microphone-lines text-2xl text-green-500 mt-1"></i>
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-1">AI Voice Option</h4>
                                <p class="text-green-800 dark:text-cream-200">Provides emotional comfort while ensuring privacy.</p>
                            </div>
                        </div>
                        <div class="bg-green-100 dark:bg-green-800/50 p-6 rounded-lg shadow-sm flex items-start gap-4">
                            <i class="fa-solid fa-child text-2xl text-green-500 mt-1"></i>
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-1">Teen-Centric Branding</h4>
                                <p class="text-green-800 dark:text-cream-200">Relatable and stigma-free environment.</p>
                            </div>
                        </div>
                        <div class="bg-green-100 dark:bg-green-800/50 p-6 rounded-lg shadow-sm flex items-start gap-4">
                            <i class="fa-solid fa-hand-holding-dollar text-2xl text-green-500 mt-1"></i>
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-1">Accessible Pricing</h4>
                                <p class="text-green-800 dark:text-cream-200">Free or low-cost model to reduce barriers.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Market & GTM -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
                    <!-- Market -->
                    <div>
                        <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-12">
                            Market & Traction
                        </h2>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-2">Market Size</h4>
                                <ul class="list-disc list-inside space-y-2 text-green-800 dark:text-cream-200">
                                    <li>Total youth (10‚Äì20 yrs) in Gurugram: ~463,000</li>
                                    <li>Estimated needing therapy/mental health support: ~92,600 (20%)</li>
                                    <li>Currently underserved due to stigma and affordability: ~46,300</li>
                                    <li>Scalable opportunity (short-term): Achieve 100‚Äì500 downloads in Gurugram to validate adoption.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-2">Traction (Early/Projected)</h4>
                                <ul class="list-disc list-inside space-y-2 text-green-800 dark:text-cream-200">
                                    <li>Need validation: ~92,600 Gurugram youth likely require mental health support.</li>
                                    <li>Initial traction goal: At least 100 downloads in the first phase.</li>
                                    <li>Growth target: Build up to 500 active users in Gurugram schools and colleges.</li>
                                    <li>Competitive advantage: Unlike existing apps, Meraki is anonymous, affordable, and teen-focused, directly addressing local youth needs.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- GTM -->
                    <div>
                        <h2 class="text-3xl md:text-4xl font-poppins font-bold text-green-900 dark:text-white text-center mb-12">
                            Go to Market Plan
                        </h2>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-2">Phase 1: Awareness and Pilot</h4>
                                <p class="text-green-800 dark:text-cream-200">Run awareness campaigns in schools and colleges about anonymous safe spaces.</p>
                            </div>
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-2">Phase 2: Peer-driven Growth</h4>
                                <ul class="list-disc list-inside space-y-2 text-green-800 dark:text-cream-200">
                                    <li>Encourage word-of-mouth and peer sharing within friend circles.</li>
                                    <li>Promote Meraki as a ‚Äújudgment-free, anonymous zone‚Äù for teens to vent.</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-poppins font-semibold text-lg mb-2">Channels</h4>
                                <ul class="list-disc list-inside space-y-2 text-green-800 dark:text-cream-200">
                                    <li>Use Instagram reels, WhatsApp groups, and student communities for promotion.</li>
                                    <li>Collaborate with local NGOs and youth organizations in Gurugram for credibility.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-green-900 text-cream-200 dark:bg-green-900/50 dark:text-cream-100/70 border-t border-green-700/50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Brand -->
                <div>
                    <h5 class="text-2xl font-poppins font-bold text-white mb-2">Meraki</h5>
                    <p class="text-lg font-poppins text-cream-100/80 mb-2">Dil ki Baat, Bina Filter</p>
                    <p class="text-sm">Safe space for teens to connect anonymously.</p>
                </div>
                
                <!-- Links -->
                <div>
                    <h5 class="text-lg font-poppins font-semibold text-white mb-4">Features</h5>
                    <ul class="space-y-2">
                        <li><a href="#demo" class="hover:text-white">Live Demo</a></li>
                        <li><a href="#forum" class="hover:text-white">Community Forum</a></li>
                        <li><a href="#pricing" class="hover:text-white">Pricing</a></li>
                    </ul>
                </div>
                
                <div>
                    <h5 class="text-lg font-poppins font-semibold text-white mb-4">Company</h5>
                    <ul class="space-y-2">
                        <li><a href="#problem" class="hover:text-white">Our Mission</a></li>
                        <li><a href="#" class="hover:text-white">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-12 border-t border-green-700/50 pt-8 flex flex-col md:flex-row justify-between items-center text-sm">
                <p>¬© 2025 Meraki. All rights reserved. Made with <i class="fa-solid fa-leaf text-green-400"></i> for teens.</p>
                <div class="flex space-x-4 mt-4 md:mt-0">
                    <a href="#" aria-label="Twitter" class="hover:text-white"><i class="fa-brands fa-twitter text-lg"></i></a>
                    <a href="#" aria-label="Instagram" class="hover:text-white"><i class="fa-brands fa-instagram text-lg"></i></a>
                    <a href="#" aria-label="LinkedIn" class="hover:text-white"><i class="fa-brands fa-linkedin text-lg"></i></a>
                </div>
            </div>
        </div>
    </footer>


    <!-- Embedded JavaScript -->
    <script>
        // --- Tailwind Config (Restored from Version 1) ---
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'cream-100': '#FDFBF6',
                        'cream-200': '#F8F4EC',
                        'green-100': '#EBF5EE',
                        'green-500': '#5D9C59',
                        'green-700': '#4A7D46',
                        'green-900': '#2E4F2E',
                        'yellow-pop': '#DFB000',
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                        poppins: ['Poppins', 'sans-serif'],
                    },
                }
            }
        }

        // Main App Logic
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Toast Notification System ---
            const toastContainer = document.getElementById('toast-container');
            function showToast(message, type = 'success') {
                const toast = document.createElement('div');
                // Use custom classes defined in the embedded style for toast colors
                toast.className = `toast toast-${type}`;
                toast.textContent = message;
                toastContainer.appendChild(toast);
                
                // Show toast
                setTimeout(() => {
                    toast.classList.add('show');
                }, 100);
                
                // Hide and remove toast
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => {
                        toast.remove();
                    }, 500);
                }, 3000);
            }

            // --- Dark Mode Logic ---
            const themeToggleBtn = document.getElementById('theme-toggle');
            const themeToggleBtnMobile = document.getElementById('theme-toggle-mobile');
            const darkIcon = document.getElementById('theme-toggle-dark-icon');
            const lightIcon = document.getElementById('theme-toggle-light-icon');
            const darkIconMobile = document.getElementById('theme-toggle-dark-icon-mobile');
            const lightIconMobile = document.getElementById('theme-toggle-light-icon-mobile');

            function updateThemeIcons(isDark) {
                if (isDark) {
                    darkIcon.classList.remove('hidden');
                    lightIcon.classList.add('hidden');
                    darkIconMobile.classList.remove('hidden');
                    lightIconMobile.classList.add('hidden');
                    document.documentElement.classList.add('dark');
                } else {
                    darkIcon.classList.add('hidden');
                    lightIcon.classList.remove('hidden');
                    darkIconMobile.classList.add('hidden');
                    lightIconMobile.classList.remove('hidden');
                    document.documentElement.classList.remove('dark');
                }
            }
            
            const isDarkMode = localStorage.getItem('meraki-theme') === 'dark' || 
                               (!('meraki-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
            
            updateThemeIcons(isDarkMode);

            const toggleTheme = () => {
                const isDark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('meraki-theme', isDark ? 'dark' : 'light');
                updateThemeIcons(isDark);
            };

            themeToggleBtn.addEventListener('click', toggleTheme);
            themeToggleBtnMobile.addEventListener('click', toggleTheme);
            
            // --- Mobile Nav Logic ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuOpenIcon = document.getElementById('menu-open-icon');
            const menuCloseIcon = document.getElementById('menu-close-icon');
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

            mobileMenuButton.addEventListener('click', () => {
                const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                mobileMenu.classList.toggle('hidden');
                menuOpenIcon.classList.toggle('hidden');
                menuCloseIcon.classList.toggle('hidden');
            });
            
            // Close mobile menu on link click
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    mobileMenu.classList.add('hidden');
                    menuOpenIcon.classList.remove('hidden');
                    menuCloseIcon.classList.add('hidden');
                });
            });

            // --- Active Nav on Scroll Logic ---
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('nav a[data-nav-link]');
            
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.4
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        navLinks.forEach(link => {
                            link.classList.toggle('active-nav', link.dataset.navLink === id);
                        });
                        // Also update mobile links
                        mobileNavLinks.forEach(link => {
                             link.classList.toggle('active-nav', link.dataset.navLink === id);
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });

            // --- Feature Tabs Logic ---
            const tabButtons = document.querySelectorAll('.feature-tab-btn');
            const tabPanels = document.querySelectorAll('.feature-tab-panel');

            // Tab button styles
            const activeTabClasses = ['bg-green-500', 'text-white', 'shadow-md'];
            const inactiveTabClasses = ['bg-cream-200/60', 'dark:bg-green-800', 'text-green-700', 'dark:text-cream-200', 'hover:bg-cream-200', 'dark:hover:bg-green-700'];
            
            function setTabStyles(activeBtn) {
                 tabButtons.forEach(btn => {
                    btn.classList.remove(...activeTabClasses);
                    btn.classList.add(...inactiveTabClasses);
                });
                activeBtn.classList.add(...activeTabClasses);
                activeBtn.classList.remove(...inactiveTabClasses);
            }
            
            // Set initial active tab
            const initialActiveTab = document.querySelector('.feature-tab-btn[data-tab="pro"]');
            setTabStyles(initialActiveTab);
            tabPanels.forEach(panel => panel.classList.add('hidden'));
            document.getElementById('tab-pro').classList.remove('hidden');


            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.dataset.tab;
                    
                    // Set button styles
                    setTabStyles(button);
                    
                    // Show/hide panels
                    tabPanels.forEach(panel => {
                        panel.id === `tab-${tabId}` ? panel.classList.remove('hidden') : panel.classList.add('hidden');
                    });
                });
            });

            // --- Anonymous Chat Demo Logic ---
            const chatBox = document.getElementById('chat-box');
            const chatInput = document.getElementById('chat-input');
            const chatSendBtn = document.getElementById('chat-send-btn');
            
            function addChatMessage(message, sender = 'user') {
                const messageDiv = document.createElement('div');
                messageDiv.className = `flex ${sender === 'user' ? 'justify-end' : 'justify-start'}`;
                
                messageDiv.innerHTML = `
                    <div class="p-3 rounded-lg shadow max-w-xs text-sm ${
                        sender === 'user' 
                        ? 'bg-green-500 text-white rounded-br-none' 
                        : 'bg-white dark:bg-green-700 rounded-bl-none'
                    }">
                        <p>${message}</p>
                    </div>
                `;
                chatBox.appendChild(messageDiv);
                
                // Scroll to bottom
                chatBox.scrollTop = chatBox.scrollHeight;
            }
            
            function handleChatSend() {
                const message = chatInput.value.trim();
                if (message) {
                    addChatMessage(message, 'user');
                    chatInput.value = '';
                    
                    // AI reply
                    setTimeout(() => {
                        addChatMessage("I hear you. You're not alone.", 'ai');
                    }, 1000);
                }
            }
            
            chatSendBtn.addEventListener('click', handleChatSend);
            chatInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    handleChatSend();
                }
            });
            
            // --- AI Voice Call Demo Logic ---
            const voiceCallBtn = document.getElementById('voice-call-btn');
            const voiceSelect = document.getElementById('voice-select');
            const voiceStatusText = document.getElementById('voice-call-text');
            const voiceVisual = document.getElementById('voice-call-visual');
            const voiceIdleIcon = document.getElementById('voice-call-idle-icon');
            let isCalling = false;
            let voices = [];
            
            // Populate voices
            function populateVoiceList() {
                if (typeof speechSynthesis === 'undefined') {
                    voiceSelect.disabled = true;
                    voiceCallBtn.disabled = true;
                    voiceStatusText.textContent = "Speech API not supported";
                    return;
                }
                voices = speechSynthesis.getVoices();
                // This is often async, so we might need to listen for the 'voiceschanged' event
                if (voices.length === 0) {
                    speechSynthesis.onvoiceschanged = () => {
                        voices = speechSynthesis.getVoices();
                    };
                }
            }
            
            populateVoiceList();
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = populateVoiceList;
            }
            
            voiceCallBtn.addEventListener('click', () => {
                if (isCalling) return;
                
                isCalling = true;
                voiceCallBtn.disabled = true;
                voiceCallBtn.textContent = "Calling...";
                voiceStatusText.textContent = "Connecting...";
                voiceVisual.classList.remove('hidden');
                voiceIdleIcon.classList.add('hidden');

                const utterance = new SpeechSynthesisUtterance("Hey, you are safe here. Take a deep breath. You matter. I'm here to listen without judgment.");
                
                const selectedVoiceName = voiceSelect.value;
                const selectedVoice = voices.find(voice => voice.name.includes(selectedVoiceName));
                
                if (selectedVoice) {
                    utterance.voice = selectedVoice;
                } else {
                    console.warn(`Voice "${selectedVoiceName}" not found. Using default.`);
                }
                
                utterance.onstart = () => {
                    voiceStatusText.textContent = "Speaking...";
                };

                utterance.onend = () => {
                    setTimeout(() => {
                        voiceStatusText.textContent = "Call Ended";
                        voiceVisual.classList.add('hidden');
                        voiceIdleIcon.classList.remove('hidden');
                        voiceCallBtn.disabled = false;
                        voiceCallBtn.textContent = "Start Call";
                        isCalling = false;
                    }, 1000); // Wait 1s after speech ends
                };
                
                // Start speaking
                speechSynthesis.speak(utterance);
                
                // Fallback auto-end after 8s if onend event fails
                setTimeout(() => {
                    if (isCalling) {
                        speechSynthesis.cancel(); // Stop speaking
                        utterance.onend(); // Manually trigger end
                    }
                }, 8000);
            });
            
            // --- Mood Check-In Logic ---
            const moodButtons = document.querySelectorAll('.mood-btn');
            const moodTrendBox = document.getElementById('mood-trend-box');
            
            function renderMoodTrend() {
                const moods = JSON.parse(localStorage.getItem('meraki-moods') || '[]');
                if (moods.length === 0) {
                    moodTrendBox.innerHTML = `<span class="text-sm text-green-600 dark:text-cream-200/70">No check-ins yet.</span>`;
                    return;
                }
                moodTrendBox.innerHTML = moods.map(entry => `<span>${entry.mood}</span>`).join('');
            }
            
            moodButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const mood = button.dataset.mood;
                    let moods = JSON.parse(localStorage.getItem('meraki-moods') || '[]');
                    
                    const newEntry = { date: new Date().toISOString(), mood: mood };
                    moods.push(newEntry);
                    
                    // Keep only last 7
                    if (moods.length > 7) {
                        moods = moods.slice(moods.length - 7);
                    }
                    
                    localStorage.setItem('meraki-moods', JSON.stringify(moods));
                    renderMoodTrend();
                    showToast(`Mood logged: ${mood}`);
                });
            });
            
            renderMoodTrend();
            
            // --- Guided Breathing Logic ---
            const breathingStartBtn = document.getElementById('breathing-start-btn');
            const breathingAnimator = document.getElementById('breathing-animator');
            const breathingCircle = breathingAnimator.querySelector('.breathing-circle');
            const breathingText = document.getElementById('breathing-text');
            
            let breathInterval;
            let breathTimeout;

            breathingStartBtn.addEventListener('click', () => {
                breathingStartBtn.classList.add('hidden');
                breathingAnimator.classList.remove('hidden');
                breathingCircle.style.animationPlayState = 'running';
                
                const cycle = ["Inhale...", "Hold...", "Exhale...", "Hold..."];
                let index = 0;
                
                function updateBreathText() {
                    breathingText.textContent = cycle[index % 4];
                    index++;
                }
                
                updateBreathText(); // Initial
                breathInterval = setInterval(updateBreathText, 1500); // 6s cycle / 4 states = 1.5s per state
                
                breathTimeout = setTimeout(() => {
                    clearInterval(breathInterval);
                    breathingCircle.style.animationPlayState = 'paused';
                    breathingAnimator.classList.add('hidden');
                    breathingStartBtn.classList.remove('hidden');
                    breathingText.textContent = "";
                    showToast("Breathing session complete!", "info");
                }, 24000); // 4 cycles of 6s
            });

            // --- Private Journal Logic ---
            const journalInput = document.getElementById('journal-input');
            const journalSaveBtn = document.getElementById('journal-save-btn');
            const journalEntriesBox = document.getElementById('journal-entries-box');

            function renderJournalEntries() {
                const entries = JSON.parse(localStorage.getItem('meraki-journal') || '[]');
                if (entries.length === 0) {
                    journalEntriesBox.innerHTML = `<p class="text-green-600 dark:text-cream-200/70">No entries yet.</p>`;
                    return;
                }
                
                journalEntriesBox.innerHTML = entries.slice(-3).reverse().map(entry => {
                    const date = new Date(entry.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                    // Truncate content for display
                    const content = entry.content.length > 100 ? entry.content.substring(0, 100) + '...' : entry.content;
                    return `
                        <div class="bg-cream-200/50 dark:bg-green-800/60 p-3 rounded-lg">
                            <p class="text-sm font-semibold text-green-700 dark:text-cream-200 mb-1">${date}</p>
                            <p class="text-green-800 dark:text-cream-100 whitespace-pre-wrap text-sm">${content}</p>
                        </div>
                    `;
                }).join('');
            }
            
            journalSaveBtn.addEventListener('click', () => {
                const content = journalInput.value.trim();
                if (content) {
                    let entries = JSON.parse(localStorage.getItem('meraki-journal') || '[]');
                    entries.push({ date: new Date().toISOString(), content: content });
                    localStorage.setItem('meraki-journal', JSON.stringify(entries));
                    
                    journalInput.value = '';
                    renderJournalEntries();
                    showToast("Journal entry saved!");
                }
            });
            
            renderJournalEntries();

            // --- CRITICAL: Anonymous Forum Logic ---
            const forumInput = document.getElementById('forum-input');
            const forumPostBtn = document.getElementById('forum-post-btn');
            const forumRefreshBtn = document.getElementById('forum-refresh-btn');
            const forumPostsContainer = document.getElementById('forum-posts-container');
            const syncTimeEl = document.getElementById('sync-time');

            // 1. Get/Set Anonymous User ID
            let userId = localStorage.getItem('meraki-userId');
            if (!userId) {
                userId = 'user-' + Math.random().toString(36).substring(2, 10);
                localStorage.setItem('meraki-userId', userId);
            }

            // 2. Relative Time Formatter
            function getRelativeTime(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const diff = now.getTime() - date.getTime();
                const seconds = Math.floor(diff / 1000);
                const minutes = Math.floor(seconds / 60);
                const hours = Math.floor(minutes / 60);
                const days = Math.floor(hours / 24);

                if (seconds < 60) return "Just now";
                if (minutes < 60) return `${minutes} min ago`;
                if (hours < 24) return `${hours} hr ago`;
                if (days === 1) return `Yesterday`;
                return `${days} days ago`;
            }

            // 3. Render Posts
            function renderPosts() {
                const posts = JSON.parse(localStorage.getItem('meraki-forum-posts') || '[]');
                const currentUserId = localStorage.getItem('meraki-userId');
                
                if (posts.length === 0) {
                    forumPostsContainer.innerHTML = `<div class="text-center p-10 text-green-600 dark:text-cream-200/70"><p>No posts yet. Be the first to share!</p></div>`;
                    return;
                }

                forumPostsContainer.innerHTML = posts.reverse().map(post => {
                    const isAuthor = post.authorId === currentUserId;
                    return `
                        <div class="bg-cream-200/50 dark:bg-green-800/50 p-4 rounded-lg shadow-sm group relative">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-semibold bg-green-200 dark:bg-green-700 text-green-800 dark:text-cream-100 px-2 py-0.5 rounded-full">
                                    User...${post.authorId.slice(-2).toUpperCase()}
                                </span>
                                <span class="text-xs text-green-600 dark:text-cream-200/70">
                                    ${getRelativeTime(post.timestamp)}
                                </span>
                            </div>
                            <p class="text-green-900 dark:text-cream-100 whitespace-pre-wrap break-words">
                                ${post.content.replace(/</g, "&lt;").replace(/>/g, "&gt;")}
                            </p>
                            ${isAuthor ? `
                                <button class="delete-post-btn absolute top-2 right-2 p-1 text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" data-post-id="${post.id}" aria-label="Delete post">
                                    <i class="fa-solid fa-trash-can"></i>
                                </button>
                            ` : ''}
                        </div>
                    `;
                }).join('');
                syncTimeEl.textContent = 'Synced just now';
            }
            
            // 4. Add Post
            function addPost() {
                const content = forumInput.value.trim();
                if (content) {
                    const posts = JSON.parse(localStorage.getItem('meraki-forum-posts') || '[]');
                    const newPost = {
                        id: Date.now().toString(),
                        timestamp: new Date().toISOString(),
                        authorId: userId,
                        content: content
                    };
                    posts.push(newPost);
                    
                    // THIS IS THE KEY: SetItem triggers the 'storage' event in OTHER tabs
                    localStorage.setItem('meraki-forum-posts', JSON.stringify(posts));
                    
                    // Render for the CURRENT tab
                    renderPosts(); 
                    forumInput.value = '';
                    showToast("Post submitted anonymously!");
                }
            }
            
            // 5. Delete Post
            function deletePost(postId) {
                let posts = JSON.parse(localStorage.getItem('meraki-forum-posts') || '[]');
                // Check authorId again for security
                posts = posts.filter(post => !(post.id === postId && post.authorId === userId));
                
                // Trigger 'storage' event for other tabs
                localStorage.setItem('meraki-forum-posts', JSON.stringify(posts));
                
                // Render for the CURRENT tab
                renderPosts();
                showToast("Post deleted.", "error");
            }

            // 6. Event Listeners (Forum)
            forumPostBtn.addEventListener('click', addPost);
            forumInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    addPost();
                }
            });
            
            forumRefreshBtn.addEventListener('click', () => {
                renderPosts();
                showToast("Forum Refreshed", "info");
            });
            
            // Event delegation for delete buttons
            forumPostsContainer.addEventListener('click', (e) => {
                const deleteBtn = e.target.closest('.delete-post-btn');
                if (deleteBtn) {
                    const postId = deleteBtn.dataset.postId;
                    if (confirm("Are you sure you want to delete this post?")) {
                        deletePost(postId);
                    }
                }
            });
            
            // 7. REAL-TIME SYNC: Listen for storage changes from OTHER tabs
            window.addEventListener('storage', (e) => {
                if (e.key === 'meraki-forum-posts') {
                    // New data from another tab, re-render
                    renderPosts();
                    console.log('Forum synced from another tab.');
                }
            });
            
            // 8. Poll to update relative timestamps on the CURRENT tab
            setInterval(() => {
                // This re-renders timestamps without a full storage event
                renderPosts();
            }, 30000); // Update timestamps every 30 seconds

            // Initial render on load
            renderPosts();
        });
    </script>
</body>
</html>
